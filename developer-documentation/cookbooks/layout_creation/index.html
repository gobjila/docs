<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://www.backbee.com/developer-documentation/cookbooks/layout_creation/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">

        <title>Layout creation using LayoutBuilderBundle - The BackBee documentation</title>

        <link href="../../../css/gen.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-3459992-27', 'docs.backbee.com');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../.."><img src="../../../img/logo-bb-docs.png" alt="The BackBee documentation" title="The BackBee documentation" height="28" style="vertical-align:bottom;" /> <b>Documentation</b></a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../..">Introduction</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer documentation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../requirements/">Requirements</a>
                        </li>
                    
                        <li >
                            <a href="../../installation/">Installation</a>
                        </li>
                    
                        <li >
                            <a href="../../architecture/">Architecture</a>
                        </li>
                    
                        <li >
                            <a href="../../configuration/">Configuration</a>
                        </li>
                    
                        <li >
                            <a href="../../project_architecture/">Project Architecture</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cookbooks <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../create_bundle_administration/">Create bundle administration</a>
                        </li>
                    
                        <li >
                            <a href="../create_new_commands/">Create new commands</a>
                        </li>
                    
                        <li >
                            <a href="../create_new_templating_helpers/">Create new templating helpers</a>
                        </li>
                    
                        <li >
                            <a href="../customize_error_pages/">Customize error pages</a>
                        </li>
                    
                        <li >
                            <a href="../ease_debugging_with_profiler/">Ease debugging with the Web Profiler</a>
                        </li>
                    
                        <li >
                            <a href="../use_swift_mailer_in_backbee/">Use Swift Mailer in BackBee</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Layout creation using LayoutBuilderBundle</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Components <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../components/bundle/">Bundle</a>
                        </li>
                    
                        <li >
                            <a href="../../components/cache/">Cache</a>
                        </li>
                    
                        <li >
                            <a href="../../components/classcontent/">ClassContent</a>
                        </li>
                    
                        <li >
                            <a href="../../components/config/">Config</a>
                        </li>
                    
                        <li >
                            <a href="../../components/event_listener/">Event Listener</a>
                        </li>
                    
                        <li >
                            <a href="../../components/nested_node/">Nested Node</a>
                        </li>
                    
                        <li >
                            <a href="../../components/renderer/">Renderer</a>
                        </li>
                    
                        <li >
                            <a href="../../components/routing/">Routing</a>
                        </li>
                    
                        <li >
                            <a href="../../components/security/">Security</a>
                        </li>
                    
                        <li >
                            <a href="../../components/translation/">Translation</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../use_swift_mailer_in_backbee/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../../components/bundle/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/backbee/docs">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container" id="main-container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#cookbooks">CookBooks</a></li>
        
            <li><a href="#layout-creation-using-layoutbuilderbundle">Layout creation using LayoutBuilderBundle</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">
                

<h1 id="cookbooks">CookBooks</h1>
<h2 id="layout-creation-using-layoutbuilderbundle">Layout creation using LayoutBuilderBundle</h2>
<h3 id="what-is-a-layout">What is a Layout</h3>
<p>A layout is a global template used to decorate page and content. A layout is composed of column, this columns are <code>ContentSet</code>, And layout determine positionning style of this column inner the page.</p>
<h3 id="requirement">Requirement</h3>
<p>To create layout, we highly recommend you to use LayoutBuilderBundle. To do so, add this to the composer.json of your project:</p>
<pre><code class="json">&quot;require&quot;: {
    &quot;php&quot;: &quot;&gt;=5.4.0&quot;,
    ...
    &quot;backbee/layout-builder-bundle&quot;: &quot;1.0.*@dev&quot;
}
</code></pre>

<p>As last step you have to update your project dependencies by using composer:</p>
<pre><code class="bash">composer update
</code></pre>

<h3 id="create-a-layout-definition">Create a Layout definition.</h3>
<p>LayoutBuilderBundle creates layouts based on YAML definitions. You have to put your definitions into the folder <code>__PROJECT_ROOT_DIR__/repository/Layouts/definitions</code>:</p>
<pre><code class="bash">cd mkdir repository/Layouts/Definitions
</code></pre>

<p>And we can create your first layout definition, It will be composed by 2 columns, MainColumn and SidePane:</p>
<blockquote>
<p>repository/Layouts/Definitions/LandingPage.yml</p>
</blockquote>
<pre><code class="yml">template: ~
label: Landing Page Layout
columns:
  MainColumn:
    mainZone: true
    accept: ~
    maxentry: ~
    defaultClassContent: ~
    inherited: false
  SidePane:
    mainZone: false
    accept: ~
    maxentry: ~
    defaultClassContent: ~
    inherited: true
</code></pre>

<h4 id="template-setting">Template setting:</h4>
<p>The template setting define what twig or phtml file you use to render the layout. By default, BackBee is able to automatically compute your layout template name by using the definition filename. In this case, <code>LandingPage.twig</code> or <code>LandingPage.phtml</code>. If you want to use a custom name you can specify it by using the key <code>template</code> in your definition (default to <code>null</code> which is equal to <code>~</code>). If you give a template name, you have to specify the extension too, Example:</p>
<pre><code class="yml">template: landing_page.twig
</code></pre>

<h4 id="label-setting">Label setting:</h4>
<p>This option allow you to change the label of your layout. It will be used to display the layout name in front.</p>
<h4 id="column-setting">Column setting:</h4>
<p>This option define each column that the layout implement and there few options for each column.</p>
<h5 id="column-mainzone-setting">Column -&gt; mainZone setting</h5>
<p>This is to highlight your main column into your layout. MainColumn option permit to BackBee that create a direct link behind the page (and the URL) and the content contained into the main column. Each layout must have one unique main column.</p>
<h5 id="column-accept-setting">Column -&gt; accept setting</h5>
<p>This option permit to filter what type you can put into your column. In the case of the LandingPage layout we accept every type of content. But we can filter that and only accept for example an <code>BackBee\ClassContent\Landing\Contentainer</code>:</p>
<pre><code class="yml">accept: ['Landing\Container']
</code></pre>

<h5 id="column-maxentry-setting">Column -&gt; maxentry setting</h5>
<p>That option permit to add a maximum type of accepted content into the page. The default value and 0 is equal to unlimited.</p>
<h5 id="column-defaultclasscontent-setting">Column -&gt; defaultClassContent setting</h5>
<p>The default ClassContent setting permit to initialize the layout with the entity provided. Example like <code>accept</code> setting. To initialize the layout with the entity <code>BackBee\ClassContent\Landing\Contentainer</code>, you have to write:</p>
<pre><code class="yml">defaultClassContent: Landing\Contentainer
</code></pre>

<h5 id="column-inherited-setting">Column -&gt; inherited setting</h5>
<p>That setting determine the default behavior of your column, if you set at <code>true</code> this setting the column will inherit from the column in the same position in the parent page.</p>
<blockquote>
<p>repository/Layouts/LandingPage.twig</p>
</blockquote>
<pre><code class="twig">&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    {{ this.partial('partials/head.twig')|raw }}
  &lt;/head&gt;
  &lt;body&gt;
    {{ this.bbtoolbar()|raw }}
    &lt;div id=&quot;bb5-site-wrapper&quot;&gt;
      &lt;div class=&quot;main container&quot;&gt;
        {{ this.container().first()|raw }}
      &lt;/div&gt;
      &lt;div class=&quot;side pane&quot;&gt;
        {{ this.container().next()|raw }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>In this template there few think require:</p>
<ul>
<li><code>bbtoolbar</code> permit to print the administration toolbar.</li>
<li><code>id="bb5-site-wrapper"</code> is an identifier used by the toolbar to know where the Site content.</li>
<li><code>this.container().first()</code> print the first column of your layout definition</li>
<li><code>this.container().next()</code> print the next column of your layout definition, and if three column you continue to iterate the columns with this instruction.</li>
</ul>
<h4 id="create-a-layout-template">Create a Layout template</h4>
<p>As we see before with <code>template</code> setting, the template must have the same filename as the definition (in the case of template is setted with the default option). The folder by default for your Layout is <code>repository/Layouts</code> but folder work like</p>
<h4 id="save-the-layout">Save the layout</h4>
<p>To save the layout in database you have to use the commands line provided by <code>LayoutBuilderBundle</code>.</p>
<h5 id="create-command">Create command</h5>
<p>Creation command don't override older layout and only create new template.</p>
<pre><code class="bash">./backbee layout::create
</code></pre>

<p>Like this, the command will iterate all your layouts definitions and create this layout for each Site available.
To filter layout want create use the option <code>--layout=</code> and specify the layout you want create:</p>
<pre><code class="bash">./backbee layout::create --layout=LandingPage
</code></pre>

<p>If you have a multi site and you want add the layout to one specific site, you can use the option <code>--site=</code> and specify the label or domain name to this site</p>
<pre><code class="bash">./backbee layout::create --site=&quot;My awesome Site&quot;
</code></pre>

<p>And then, you can combine the 2 options.</p>
<h5 id="update-command">Update command</h5>
<p>Update command has the same options than create and do the same job, but this command override automatically Layout already save in database. Then use it carefully.</p>
<p>Remove or add a column to a layout already used don't generate crash off this existent pages but the number off will not automatically upgrade to this older pages.</p>
<h5 id="remove-command">Remove command</h5>
<p>If you want delete an Layout, you can use this command. And this command accept to work only under some conditions.</p>
<p>The firsts condition is, the layout you have to remove, have to be unused.
And you have to use all the previous options <code>--layout</code> and <code>--site</code>.</p>
                <hr />
                <div class="contribution-message">
    <h2>Is something missing?</h2>
    <p>If you notice something we've missed or could be improved on, please follow <a href="https://github.com/backbee/docs/blob/master/README.md" target="_blank">this link</a> and submit a pull request to the BackBee documentation repository. Once we merge it, the changes will be immediately reflected on the website.</p>
</div>
            </div>
        </div>

    <footer>
        <hr>
        <p>Copyright &copy; 2014-2015, <a href="http://www.backbee.com">BackBee project</a>.</p>
        <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>

        <div class="footer-copyright">
            <div class="container">
                <ul class="row nav">
                    <li class="col-sm-6 col-xs-4"><a href=" http://www.lp-digital.fr/en/index.php" target="_blank"><img src="http://backbee.com/img/logo-lpdigital-bw.png" alt="Lp digital"></a></li>
                    <li class="col-sm-6 col-xs-8 text-align-right"><a href=" http://www.lp-digital.fr/en/solutions.php" target="_blank" class="btn btn-dimmed btn-sm">Our other solutions</a><!-- SocialTools -->
                        <div class="social-tool-wrapper">
                            <ul class="nav">
                                <li><a href="https://www.facebook.com/backbeeCMS" target="_blank"><i class="fa fa-facebook"></i><span class="visuallyhidden">Facebook</span></a></li>
                                <li><a href="https://twitter.com/Lpdigitalsystem" target="_blank"><i class="fa fa-twitter"></i><span class="visuallyhidden">Twitter</span></a></li>
                                <li><a href="https://plus.google.com/101416676508957143369/posts" target="_blank"><i class="fa fa-google-plus"></i><span class="visuallyhidden">Google +</span></a></li>
                                <li><a href="http://backbee.com/services/contact-us"><i class="fa fa-envelope"></i><span class="visuallyhidden">Contact Us</span></a></li>
                            </ul>
                        </div>
                        <!-- End SocialTools -->
                    </li>
                </ul>
            </div>
        </div>
    </footer>


        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script src="../../../js/base.js"></script>
    </body>
</html>